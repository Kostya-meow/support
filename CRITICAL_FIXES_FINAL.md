# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã 3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

### 1. **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∑–≤—É–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª** üîä
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∫—Ä–∏–ø—Ç `notification.js` –Ω–µ –±—ã–ª –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞—è–≤–æ–∫  
**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `<script src="/static/notification.js"></script>` –≤ `index.html`
- ‚úÖ –¢–µ–ø–µ—Ä—å –∑–≤—É–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –í–°–ï–• —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –≤–∫–ª—é—á–∞—è –∑–∞—è–≤–∫–∏

**–§–∞–π–ª:** `app/templates/index.html`
```html
<script src="/static/navigation.js"></script>
<script src="/static/menu_loader.js"></script>
<script src="/static/notification.js"></script> <!-- –î–û–ë–ê–í–õ–ï–ù–û -->
```

### 2. **–°–∏–º—É–ª—è—Ç–æ—Ä: –∞–≤–∞—Ç–∞—Ä mentor/operator –±—ã–ª —Å–ª–µ–≤–∞** üë§
**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Ñ—É–Ω–∫—Ü–∏–∏ `addMessage()` –∞–≤–∞—Ç–∞—Ä –¥–æ–±–∞–≤–ª—è–ª—Å—è –í–°–ï–ì–î–ê –ø–µ—Ä–µ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º  
**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ sender === 'operator' || sender === 'mentor'
- ‚úÖ –î–ª—è —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤: –∫–æ–Ω—Ç–µ–Ω—Ç –ü–û–¢–û–ú –∞–≤–∞—Ç–∞—Ä (—Å–ø—Ä–∞–≤–∞)
- ‚úÖ –î–ª—è user: –∞–≤–∞—Ç–∞—Ä –ü–û–¢–û–ú –∫–æ–Ω—Ç–µ–Ω—Ç (—Å–ª–µ–≤–∞)

**–§–∞–π–ª:** `app/templates/simulator.html`
```javascript
// –î–ª—è operator –∏ mentor –∞–≤–∞—Ç–∞—Ä —Å–ø—Ä–∞–≤–∞
if (sender === 'operator' || sender === 'mentor') {
    messageDiv.appendChild(content);
    messageDiv.appendChild(avatar);
} else {
    messageDiv.appendChild(avatar);
    messageDiv.appendChild(content);
}
```

### 3. **–°–∏–º—É–ª—è—Ç–æ—Ä: —Ç–∏–ø–∏–Ω–≥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –±—ã–ª —Å–ª–µ–≤–∞** ‚öôÔ∏è
**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Ñ—É–Ω–∫—Ü–∏–∏ `addTypingIndicator()` –∞–≤–∞—Ç–∞—Ä –≤—Å–µ–≥–¥–∞ –≤—Å—Ç–∞–≤–ª—è–ª—Å—è –ø–µ—Ä–≤—ã–º  
**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ role === 'operator' || role === 'mentor'
- ‚úÖ –î–ª—è —ç—Ç–∏—Ö —Ä–æ–ª–µ–π: `contentHtml + avatarHtml` (–∞–≤–∞—Ç–∞—Ä —Å–ø—Ä–∞–≤–∞)
- ‚úÖ –î–ª—è user: `avatarHtml + contentHtml` (–∞–≤–∞—Ç–∞—Ä —Å–ª–µ–≤–∞)

**–§–∞–π–ª:** `app/templates/simulator.html`
```javascript
// –î–ª—è operator –∏ mentor –∞–≤–∞—Ç–∞—Ä —Å–ø—Ä–∞–≤–∞
if (role === 'operator' || role === 'mentor') {
    typingDiv.innerHTML = contentHtml + avatarHtml;
} else {
    typingDiv.innerHTML = avatarHtml + contentHtml;
}
```

## üìä –°—á–µ—Ç—á–∏–∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢  
**–ì–¥–µ –∏—Å–∫–∞—Ç—å:** –í —Å–ø–∏—Å–∫–µ –∑–∞—è–≤–æ–∫ - `–ó–∞—è–≤–∫–∞ #28 (5)` –≥–¥–µ —á–∏—Å–ª–æ –≤ —Å–∫–æ–±–∫–∞—Ö = –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ

**–ö–æ–¥ —É–∂–µ –µ—Å—Ç—å:**
```javascript
if (conversation.unread_count > 0) {
    title.textContent = `–ó–∞—è–≤–∫–∞ #${conversation.id} (${conversation.unread_count})`;
} else {
    title.textContent = `–ó–∞—è–≤–∫–∞ #${conversation.id}`;
}
```

**–ü–æ—á–µ–º—É –º–æ–∂–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:**
- –ù–µ—Ç –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (unread_count === 0)
- –ù—É–∂–Ω–æ —á—Ç–æ–±—ã –∫—Ç–æ-—Ç–æ –Ω–∞–ø–∏—Å–∞–ª –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

## üéØ –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

### –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
User:          üòä [–í–æ–ø—Ä–æ—Å]
Mentor:        üéì [–û—Ç–≤–µ—Ç]    ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–ª–µ–≤–∞
Operator:      üë®‚Äçüíª [–û—Ç–≤–µ—Ç]    ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–ª–µ–≤–∞
```

### –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
User:          üòä [–í–æ–ø—Ä–æ—Å]           ‚úÖ –°–ª–µ–≤–∞
Mentor:        [–û—Ç–≤–µ—Ç] üéì           ‚úÖ –°–ø—Ä–∞–≤–∞
Operator:      [–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏] üë®‚Äçüíª    ‚úÖ –°–ø—Ä–∞–≤–∞
```

## üöÄ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∑–≤—É–∫:
1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ª—é–±—É—é** —Å—Ç—Ä–∞–Ω–∏—Ü—É (dashboard, simulator, admin, –∑–∞—è–≤–∫–∏)
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)
4. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚úÖ Global notifications WebSocket connected`
5. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –∫–æ–≥–æ-—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
6. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üîî Notification sound played` + –∑–≤—É–∫ beep

### –°—á–µ—Ç—á–∏–∫:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞—è–≤–æ–∫
2. –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ: `–ó–∞—è–≤–∫–∞ #28 (5)`
3. –ï—Å–ª–∏ –Ω–µ—Ç –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö: `–ó–∞—è–≤–∫–∞ #28`

### –°–∏–º—É–ª—è—Ç–æ—Ä:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–ø–æ—è–≤–∏—Ç—Å—è –≤–æ–ø—Ä–æ—Å –°–õ–ï–í–ê —Å –∞–≤–∞—Ç–∞—Ä–æ–º —Å–ª–µ–≤–∞)
3. –ù–∞–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç
4. –í–∞—à –æ—Ç–≤–µ—Ç –ø–æ—è–≤–∏—Ç—Å—è –°–ü–†–ê–í–ê —Å –ø–æ–¥–ø–∏—Å—å—é "–í—ã" –∏ –∞–≤–∞—Ç–∞—Ä–æ–º —Å–ø—Ä–∞–≤–∞
5. –¢–∏–ø–∏–Ω–≥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ù–∞—Å—Ç–∞–≤–Ω–∏–∫" –ø–æ—è–≤–∏—Ç—Å—è –°–ü–†–ê–í–ê
6. –û—Ç–≤–µ—Ç –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –°–ü–†–ê–í–ê —Å –∞–≤–∞—Ç–∞—Ä–æ–º —Å–ø—Ä–∞–≤–∞

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `app/templates/index.html` - –¥–æ–±–∞–≤–ª–µ–Ω notification.js
2. `app/templates/simulator.html` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã addMessage() –∏ addTypingIndicator()

## ‚ú® –ì–û–¢–û–í–û!

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+F5)!**

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –ó–≤—É–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ
- ‚úÖ –°—á–µ—Ç—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ)
- ‚úÖ –°–∏–º—É–ª—è—Ç–æ—Ä: –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞/–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ —Å–ø—Ä–∞–≤–∞
- ‚úÖ –°–∏–º—É–ª—è—Ç–æ—Ä: —Ç–∏–ø–∏–Ω–≥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω
