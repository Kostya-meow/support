# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## üìö FAQ –°—Ç—Ä–∞–Ω–∏—Ü–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä FAQ
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://127.0.0.1:8000/faq**

### –ß—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:
- üèÜ **–¢–æ–ø-3 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö** - –≤—ã–¥–µ–ª–µ–Ω—ã –∑–æ–ª–æ—Ç–æ–π —Ä–∞–º–∫–æ–π –∏ –∑–≤–µ–∑–¥–æ–π
- üìã **–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã** - –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
- üîç **–ü–æ–∏—Å–∫** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏ –æ—Ç–≤–µ—Ç–∞–º
- üî• **–ë–µ–π–¥–∂–∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
- üîÑ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

### API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
```bash
curl http://127.0.0.1:8000/api/faq
```

–û—Ç–≤–µ—Ç:
```json
{
  "items": [
    {
      "id": 1,
      "question": "–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å...",
      "answer": "–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω—É–∂–Ω–æ...",
      "popularity_score": 0.85
    }
  ]
}
```

---

## ü§ñ –£–ª—É—á—à–µ–Ω–∏—è –±–æ—Ç–∞

### 1. –£–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–∑–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞" –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å –Ω–∞ –ö–ê–ñ–î–û–ú –æ—Ç–≤–µ—Ç–µ –±–æ—Ç–∞

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞:
  - –ë–æ—Ç –Ω–µ —É–≤–µ—Ä–µ–Ω –≤ –æ—Ç–≤–µ—Ç–µ (confidence < 0.6)
  - –ù–µ –Ω–∞—à–µ–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
  - –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞

**–ü—Ä–∏–º–µ—Ä:**
```
–í–æ–ø—Ä–æ—Å: "–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É?"
–û—Ç–≤–µ—Ç: [–£–≤–µ—Ä–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π]
–ö–Ω–æ–ø–∫–∞: ‚ùå –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

–í–æ–ø—Ä–æ—Å: "–ê–∞–∞–∞ –ø–æ–º–æ–≥–∏—Ç–µ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å!!!"
–û—Ç–≤–µ—Ç: "–ù–µ –Ω–∞—à–ª–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π..."
–ö–Ω–æ–ø–∫–∞: ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π
```

### 2. –ù–æ–≤–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

–ö–æ–º–∞–Ω–¥–∞: `/start` –≤ Telegram

**–ß—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –±–æ—Ç:**
```
üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –ò–º—è!

–Ø –±–æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –Ø –º–æ–≥—É –ø–æ–º–æ—á—å –≤–∞–º —Å:
‚Ä¢ –û—Ç–≤–µ—Ç–∞–º–∏ –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
‚Ä¢ –†–µ—à–µ–Ω–∏–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã

üìö –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã:
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞—à FAQ: http://127.0.0.1:8000/faq

üí¨ –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å, –∏ —è –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –ø–æ–º–æ—á—å!
```

---

## ‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–∞, –Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
- –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –≤–æ–ø—Ä–æ—Å–æ–≤
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

**–í–∫–ª—é—á–∏—Ç—å:**
–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ `app/main.py` (—Å—Ç—Ä–æ–∫–∏ ~152-154):
```python
# popularity_task = asyncio.create_task(update_popularity_scores())
# logger.info("–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—â–µ–Ω–∞")
```

–ü–æ–º–µ–Ω—è—Ç—å –Ω–∞:
```python
popularity_task = asyncio.create_task(update_popularity_scores())
logger.info("–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—â–µ–Ω–∞")
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

–§–∞–π–ª: `app/bot.py` (—Å—Ç—Ä–æ–∫–∞ ~221)

```python
if rag_result.confidence_score > 0.6:  # <-- –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ
    # –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- `0.3-0.5` - –∫–Ω–æ–ø–∫–∞ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ (–¥–ª—è –Ω–æ–≤–æ–π –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π)
- `0.6-0.7` - —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `0.8-1.0` - –∫–Ω–æ–ø–∫–∞ —Ä–µ–¥–∫–æ (–¥–ª—è –∑—Ä–µ–ª–æ–π –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
cd c:\Users\PC-PC\Desktop\support
.venv\Scripts\python.exe -m uvicorn app.main:app --reload
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ FAQ
```bash
# –í –±—Ä–∞—É–∑–µ—Ä–µ:
http://127.0.0.1:8000/faq

# –ò–ª–∏ —á–µ—Ä–µ–∑ Python:
python test_faq.py
```

### 3. –¢–µ—Å—Ç Telegram –±–æ—Ç–∞

**–¢–µ—Å—Ç 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ**
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ: `/start`
2. –û–∂–∏–¥–∞–µ—Ç—Å—è: –Ω–æ–≤–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ FAQ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: –∫–Ω–æ–ø–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å

**–¢–µ—Å—Ç 2: –£–≤–µ—Ä–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç**
1. –ó–∞–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –≤–æ–ø—Ä–æ—Å –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
2. –û–∂–∏–¥–∞–µ—Ç—Å—è: —á–µ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –±–µ–∑ –∫–Ω–æ–ø–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

**–¢–µ—Å—Ç 3: –ù–µ—É–≤–µ—Ä–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç**
1. –ó–∞–¥–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π/–Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å
2. –û–∂–∏–¥–∞–µ—Ç—Å—è: –æ—Ç–≤–µ—Ç + –∫–Ω–æ–ø–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

**–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞:**
```
INFO: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –≤–æ–ø—Ä–æ—Å–æ–≤...
INFO: –û–±–Ω–æ–≤–ª–µ–Ω–æ 15 –∑–∞–ø–∏—Å–µ–π. Max count: 42
```

**–ë–æ—Ç —Å confidence:**
```python
# –í –∫–æ–¥–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
logger.info(f"Confidence score: {rag_result.confidence_score}")
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–≤–µ—Ä–∫–∞ popularity_score:**
```bash
sqlite3 knowledge.db "SELECT question, popularity_score FROM knowledge_entries ORDER BY popularity_score DESC LIMIT 5;"
```

---

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### FAQ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `netstat -ano | findstr :8000`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª: `app/templates/faq.html` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

### –ö–Ω–æ–ø–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `confidence_score` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ RAGResult
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä–æ–≥ –≤ `bot.py` (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π)
3. –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: `print(f"Score: {rag_result.confidence_score}")`

### –†–µ–π—Ç–∏–Ω–≥ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –≤–∫–ª—é—á–µ–Ω–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞..."
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ `tickets.db`

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π:** `CHANGELOG_FAQ_AND_BOT.md`
- **–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:** `test_faq.py`
- **–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î:** `migrate_add_popularity.py` (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ ‚úÖ)

**–í–µ—Ä—Å–∏—è:** 2.0  
**–î–∞—Ç–∞:** 2025-10-04
